.TH "battray" 1 "Battray 1.4" "Martin Tournoij <martin@arp242.net>"
.SH NAME
.P
Battray \-\- Display an battery status notification tray icon
.SH SYNOPSIS
battray [-hv] [-p platform] [-d datadir] [-f configfile] [-i pol_interval]
.SH DESCRIPTION
.P
battray is a tray icon aka status icon to notify you of your battery status and do
some action depending on it.
.P
 \fI\-h\fR, \-\fI\-help\fR
     Display help message and exit.
 \fI\-v\fR, \fI\-\-version\fR
     Display version and exit.
 \fI\-p\fR, \fI\-\-platform\fR
     Use this platform file, normally this is autodetected.
     Will be imported, so make sure it's in sys.path
 \fI\-d\fR, \fI\-\-datadir\fR
     Datadir to get icons and platform file from.
 \fI\-f\fR, \fI\-\-file\fR
     Configuration file to use. A configuration file is mandatory.
 \fI\-i\fR, \fI\-\-interval\fR
     Poll the system every n seconds.
.SH CONFIGURATION
.P
The configuration file is imported in Python, any valid Python code goes.
You don't need to specify your own configuration, a basic conservative
configuration is included.
.SS Location
.P
The configuration file will be searched in the following locations. The first
match wins:
.RS
.IP \(bu 3
Specified from commandline
.IP \(bu 3
~/.battray/battrayrc.py
.IP \(bu 3
~/.battrayrc.py
.IP \(bu 3
/usr/local/etc/battrayrc.py
.IP \(bu 3
/usr/local/etc/battray/battrayrc.py
.IP \(bu 3
/etc/battrayrc.py
.IP \(bu 3
/etc/battray/battrayrc.py
.IP \(bu 3
/usr/local/share/battray/battrayrc.py
.IP \(bu 3
/usr/local/share/examples/battray/battrayrc.py
.IP \(bu 3
/usr/share/battray/battrayrc.py
.IP \(bu 3
battrayrc.py
.IP \(bu 3
sys.path + /battray/battrayrc_default.py
.RE
.SS Generic options
.P
 \fIdatadir\fR (string)
     Datadir to get icons and platform file from. Usually not required.
.P
 \fIpollInterval\fR (int)
     Poll the system every n seconds.
.SS Available functions
.P
 \fIcharging()\fR
       Return True if notebook is charging the battery
.P
 \fIac()\fR
       Return True if notebook is connected to AC power
.P
 \fIpercent()\fR
       Return percentage of battery time remaining
.P
 \fIlifetime()\fR
       Return remaining battery time in minutes
.P
 \fIswitchedto()\fR
       Return 'battery' if we switched to battery since last poll.
      'ac' if we  switched to ac since last poll.
.P
 \fIrun(cmd)\fR
       Run cmd (string) in shell. Note: no escaping will be done on the
       command.
.SS Available variables
.P
 \fIicon = 'file.png'\fR
       Set icon to this file. Can be relative to datadir
.P
 \fIcolor = 'red|yellow|green'\fR
       Fill battery icon with this color. Available are 'yellow', 'red', and
       'green'.
.P
 \fIblink = True|False\fR
       Set to True to blink the icon (Do not use is presence of weeping
       angels!)
.SH PLATFORM FILE
.P
Battray gets it's data from using a command\-line utility provided by the
Operating System.  Almost every OS a slightly different utility and/or to
fetch the battery status, this is why we need a platform file to imple\-
ment each platform.
.P
These files are imported (and reload()\-ed when needed) by the main
script. Any valid Python syntax goes.
.P
List of mandatory variables, these must be present:
.P
 \fIac\fR (bool)
     Connected to AC? None if unknown.
 \fIpercent\fR (int)
     Battery power remaining in percent. 255 if unknown.
 \fIlifetime\fR (int)
     Battery time remaining in minutes. 255 if unknown.
 \fIcharging\fR (bool)
     Are we charging the battery? None if unknown.
.P
Optional variables, these will just be ignored if not set:
.P
 \fItooltip\fR (string)
     Additional info in the tooltip.
.SH BUGS
.RS
.IP \(bu 3
The configuration could be a bit easier, the fact that itâ€™s imported in Python
makes configuration pretty flexible, but also makes it more difficult for
non\-python programmers.
.IP \(bu 3
Multiple batteries are not supported.
.RE
.SH SEE ALSO
.P
python(1), apm(8), acpidump(8), apm(4), acpi(4)
.SH AUTHORS
.RS
.IP \(bu 3
Martin Tournoij <martin@arp242.net>
.IP \(bu 3
Linux support by Andy Mikhaylenko <andy@neithere.net>
.IP \(bu 3
Keith W. Blackwell a.k.a. zimbot from freesound.org
.RE
.P
Feel free to use, modify, and redistribute battray as you see fit. There are no
restrictions.
.\" man code generated by txt2tags 2.6 (http://txt2tags.org)
.\" cmdline: txt2tags -o - --target man doc/battray.t2t
